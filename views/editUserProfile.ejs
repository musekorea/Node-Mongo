<html>
  <head>
    <%- include("./components/HEADS.ejs")%>
    <title>Code Me : Edit User Profile</title>
  </head>
  <body>
    <%- include("./components/NAVBAR.ejs")%>
    
    <!-- AVATAR IMAGE -->
    <div class="container mt-5" }>
      <%if(locals.user.avatar){%>
        <img src="<%=locals.user.avatar%>" id="avatarImg" class="mx-auto d-block mb-3" alt="avatar" style="width: 150px;
        border-radius: 20px">
        <%}else{%>
      <img src="/images/noProfile.png" class="rounded mx-auto d-block mb-3" alt="avatar" style="width: 150px;">
      <%}%>
      <!--BOOTSTRAP EDIT PROFILE FORM  -->
      <form
      action="/user/editProfile"
      id="editProfileForm"
      class="row g-3"
      autocomplete="off"
      method="POST"
      enctype="multipart/form-data"
      >
        <div class="col-md-6">
          <label for="email" class="form-label"
            >Email <span class="message"><%=locals.messages.emailExist%></span>
          </label>
          <input
            type="email"
            class="form-control"
            name="editEmail"
            id="email"
            value="<%=locals.user.email%>"
            required
          />
        </div>
        <div class="col-md-6">
          <label for="nickname" class="form-label"
            >Nickname   <span class="message"><%=locals.messages.nicknameExist%></span>
          </label>
          <input
            type="text"
            class="form-control"
            name="nickname"
            id="nickname"
            value="<%=locals.user.nickname%>"
            required
          />
        </div>
        <div class="col-md-2">
          <label for="gender" class="form-label">Gender</label>
          <select id="gender" class="form-select" name="gender">
            
            <option <%=locals.user.gender===""?"selected":""%>>Choose...</option>
            <option value="male" <%=locals.user.gender==="male"?"selected":""%>>Male</option>
            <option value="female" <%=locals.user.gender==="female"?"selected":""%>>Female</option>
          </select>
        </div>
        <div class="col-md-4">
          <label for="birth" class="form-label" 
            >Birth</label
          >
          <input type="date" class="form-control" name="birth" id="birth" value="<%=locals.user.birth%>"/>
        </div>
        <div class="col-md-12">
          <label for="avatar" class="form-label"
            >Avatar
            <span style="color: gray; font-size: 13px">(Optional)</span></label
          >
          <input 
            type="file"
            class="form-control "
            name="avatar"
            id="avatar"
            accept="image/*"
          />
        </div>
        <%if(locals.socialOnly===false){%>
        <div class="col-md-6">
          <label for="password" class="form-label"
            ><span class="message">âœ” Confirm Password  <%=locals.messages.emailCheck%></span> 
          </label>
          <input
            type="password"
            class="form-control"
            name="password"
            id="password"
            placeholder="Please confirm your password"
            required
          />
        </div>
        <%}%>
        <div class="col-12">
          <div class="form-check">
            <input
              class="form-check-input"
              type="checkbox"
              id="gridCheck"
              required
            />
            <label class="form-check-label" for="gridCheck">
              Check me out
            </label>
          </div>
        </div>
        <div class="col-12">
          <button type="submit" class="btn btn-warning">Update Profile</button>
        </div>
      </form>
    </div>
  </body>
</html>
